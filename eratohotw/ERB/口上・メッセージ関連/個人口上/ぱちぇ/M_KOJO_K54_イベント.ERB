;-------------------------------------------------
; eraTheWorld proto4.23用 ○○口上（キャラクターの名前を入れる、下にコンセプトなど一言あれば入れる）
;-------------------------------------------------
;※※※※※※他者による修正、加筆、改変についての但し書き※※※※※※
;前提としてオリジナル作者以外が手を入れる場合は、オリジナル作者の許可を求めること
;オリジナル作者とコンタクトが取れない場合には以下の但し書きに従ってUPできるかどうか判断してください。

;------ ｷﾘﾄﾘ ｶｲｼ -----------
;eraTheWorld proto4.07パッチ取り込み用 Ver1.13
;テンプレートの使い方
;初めに置換コマンド等により K54 を K(キャラNo) に変更して下さい  
;キャラNoはCSVフォルダのCharaファイルを参照　例(霧雨 魔理沙の場合)：K54 =置換=> K11
;
;------ ｷﾘﾄﾘ ｵﾜﾘ -----------

;**** Copyright ****************************************************************
;本口上の修正について（許可する行為のみ残してください）
;【誤字・脱字修正】【分岐条件・erb構文に関する修正】【本体Ver・Rev変更対応】【フラグの管理・修正】

;本口上の加筆・改変について（許可する行為のみ残してください）
;【未記入部位加筆】【ランダム分岐加筆】【記入済部位加筆】【記入済部位削除】【記入済部位コメントアウト】

;本口上に対するメンテナンス禁止時限について（設定しない場合、未設定のみ残してください）
;【未設定】【設定：期間 YY-MM-DDからYY-MM-DDまでオリジナル作者のみ修正可】【期限延長 有】

;本口上に対するその他但し書き
;【 】【 】
;******************************************************************************
;**** FlagManagement **********************************************************
;本口上にて使用しているCFLAG・TCVAR等
[SKIPSTART]
-------------------------------------------------
パチュリー口上
-------------------------------------------------
パチュラブな人なら何してもいいのよ

無関心なんて関係ないほど崩れてるかも
可能な限り短く、簡潔に表したい故に3行以上にならないことも多いです

今後の課題
残念なことに他の誰かが一緒にいたときとかはあまり想定してない
それ故に寝ているパチュリーの部屋に連れ込んだときとかその逆とかは無い
コマンドの方を優先で埋めていくつもりなので当分先になりそう

一通りは試したのでバグは出ないはず……はず
何か問題が出たらスレかIRCまでお願いします

2011/07/26
-------------------------------------------------
使用フラグ一覧
CFLAG
1001:遭遇口上
1002:おのれー？フランドール入室
1003:会話したか
1004:パチュリーとお茶を飲んだ回数
1005:私室変更

TCVAR
350:その日会った回数
351:眠り口上
352:何に使おうと思ったのか忘れたけど押し倒されたときに加算
353:怒らせたときの会話
354:お茶は淹れたけど会話をしたことが無い

以上
[SKIPEND]
;******************************************************************************

;PS 寅の人
;オリジナル作者と連絡が取れない場合、上記Copyrightに従い加筆改変を行って下さい
;また本体処理・他口上処理等に干渉する異常処理がある場合でオリジナル作者による修正が
;行われない・もしくは困難な場合、Copyrightに関わらず有志による修正を許可します
;その際は元処理を削除せずコメントアウトし修正処理を挿入して下さい

;### 口上存在判定 ###################################
@M_KOJO_K54(ARG)
;別人版を作成する際はこのテンプレではなく別人版用口上テンプレをご利用ください

;口上存在判定です、けしてコメントアウトしないでください
;他の処理は一切行わないように
RETURN 1

;### 口上基本フラグ設定 #############################
@M_KOJO_FLAGSETTING_K54
;基本フラグ設定はここで行ってください
;共通の口上フラグは必要な箇所のコメントアウトを外してご利用ください
;口上専用フラグはご自由に
;Xにはキャラ番号を入れてください

;眠姦口上有、時間停止口上有、なりきりに1を入れると、それぞれ時間停止時、眠姦時、なりきり時にコマンド口上が読み込まれるように
;入れないと時間停止時、眠姦時、なりきり時は一切喋りません
;CFLAG:X:眠姦口上有 = 0
;CFLAG:X:時間停止口上有 = 0
;CFLAG:X:なりきり口上有 = 0

;破瓜キャンセル口上有に1を入れると、@M_KOJO_EVENT_KX_LOST_VIRGIN_STOPでキャンセルの成否を操作できます
;CFLAG:X:破瓜キャンセル口上有 = 0

;口上内抱き寄せ判定_初回と口上内抱き寄せ判定_通常に1を入れると、M_KOJO_EVENT_KX_PERMISSIONで押し倒しの成否を操作できます
;CFLAG:X:口上内抱き寄せ判定_初回 = 0
;CFLAG:X:口上内抱き寄せ判定_通常 = 0

;押し倒し禁止に1を入れると、自分から押し倒してこなくなります
;以下は恋慕かセフレがつくまで押し倒してこなくなる使用例
;IF !TALENT:X:恋慕 && !TALENT:X:セフレ
;	CFLAG:X:押し倒し禁止 = 1
;ELSE
;	CFLAG:X:押し倒し禁止 = 0
;ENDIF

;来訪不能に1を入れると、来訪してこなくなります
;以下は面識があるまで来訪してこなくなる使用例
;IF !CFLAG:X:面識
;	CFLAG:X:来訪不能 = 1
;ELSE
;	CFLAG:X:来訪不能 = 0
;ENDIF

;### 口上色判定 ###################################
@M_KOJO_COLOR_K54

;ここでSETCOLORすることで口上に色を付けられます
;例：SETCOLOR 0xC07070
SETCOLOR 0x8A3D9A

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"UPDATE判定"
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_UPDATE_K54
;口上独自のUPDATE用
;ENCOUNTER専用に独自分岐フラグを仕込んだ場合等にどうぞ
;UPDATE判定でCFLAGを使う場合、キャラ番号の指定が必要になります
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"ENCOUNTER"系イベント（エクストラ構文）
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_ENCOUNTER_K54
;初対面、挨拶のタイミング
;TALENTの変更はここでどうぞ。
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"SP_EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;デート帰りにファーストKISS（合意も付く）
;==================================================
@M_KOJO_SPEVENT_K54_1(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORML  
	;キスをキャンセルしたい場合は以下を開放
	;TCVAR:キスキャンセル = 1
ENDIF
RETURN 1

;==================================================
;デート帰りに告白（恋人が付く）
;==================================================
@M_KOJO_SPEVENT_K54_2(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;告白内容
	;この告白内容表示後に受けるかどうかの選択分が表示されます
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白オッケー（恋人が付く）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白失敗
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF

ENDIF
RETURN 1

;==================================================
;デート帰り
;==================================================
@M_KOJO_SPEVENT_K54_3(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印消去イベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印2>1レベルダウンイベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印3>2レベルダウンイベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	PRINTFORML
ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;部屋で遭遇
;==================================================
@M_KOJO_EVENT_K54_1(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;MASTERが入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && GROUPMATCH(ARG, 1, 6) ;edit
		;PRINTFORMWにしない方がいいでしょう
		;初めて会った
		IF CFLAG:1001 < 1
			PRINTFORM 「I haven't seen you before, have I...? 
			;図書館
			IF CFLAG:現在位置 == 310
				PRINTFORML Oh well. Welcome to my Great Library.」
			;パチュリー私室
			ELSEIF CFLAG:現在位置 == CFLAG:初期位置
				PRINTFORML This is my study. Do you have some business with me?」
			;それ以外
			ELSE
				PRINTFORML So, who are you then?」
			ENDIF
			CFLAG:1001 = 1
		;妊娠時
	;	ELSEIF CFLAG:6
			;bad妊娠
	;		IF なにがいいのかな？
	;			PRINTFORML 「いやあぁあああああああ近づかないで」
	;			PRINTFORML パチュリーは%CALLNAME:MASTER%が現れたのを見て恐怖している
			;good妊娠
	;		ELSE
	;			PRINTFORML 「%CALLNAME:MASTER%」
	;			PRINTFORML パチュリーは%CALLNAME:MASTER%の姿を見ると嬉しそうに声をかけてきた
	;		ENDIF
		;恋慕時
		ELSEIF TALENT:恋慕
			;部屋を同じにした
			IF CFLAG:MASTER:初期位置 == CFLAG:初期位置 && !CFLAG:1005
				PRINTFORMDL You greet Patchouli and promptly tell %HIM_HER(54)% about how you want to live together with %HIM_HER(54)%.
				PRINTFORML 「Eh? Ah, Mh-hm... Please treat me well.」
				CFLAG:1005 = 1
				SIF CFLAG:1001 < 2
					CFLAG:1001 = 2
			;部屋を変えた
			ELSEIF CFLAG:MASTER:初期位置 != CFLAG:初期位置 && CFLAG:1005 == 1
				PRINTFORMDL You hesitantly tell Patchouli that you will live in a different room from now on.
				PRINTFORML 「Oh... That's...unfortunate.」
				CFLAG:1005 = 2
			;部屋をまた同じにした
			ELSEIF CFLAG:MASTER:初期位置 == CFLAG:初期位置 && CFLAG:1005 == 2
				PRINTFORMDL You hesitantly tell Patchouli that you want to live together with %HIM_HER(54)% again.
				PRINTFORML 「I see... It'd be nice if this time we could live together forever.」
				CFLAG:1005 = 1
			;恋慕初回のみ
			ELSEIF CFLAG:1001 < 2
				PRINTFORMDL Once Patchouli sees you, %HE_SHE(54)% beckons you to come closer.
				PRINTFORMDL You approach %HIM_HER(54)% and Patchouli whispers in your ear.
				PRINTFORML 「Use this key whenever you want... But I hope you won't get up to too much mischief.」
				CFLAG:1001 = 2
			;恋慕通常
			ELSE
				;図書館
				IF CFLAG:現在位置 == 310
					PRINTFORML 「%CALLNAME:MASTER%, come in.」
					SIF CFLAG:1001 < 3
						PRINTFORML 「You can make use of anything that's here however you like, to an extent...... That includes me, too.」
					PRINTFORMDL %BREAKENG(@"Patchouli says as %HE_SHE(54)% pats the seat next to %HIM_HER(54)%, and turns to look back at the book %HE_SHE(54)% was reading. ")%
				;パチュリー私室
				ELSEIF CFLAG:現在位置 == CFLAG:初期位置
					;MASTERの開始位置がパチュリー私室以外
					IF CFLAG:MASTER:初期位置 != CFLAG:初期位置
						PRINTFORML 「Welcome to my study. \@ YOGORE:311 >= 500 ? Are you here to clean? Or did you come to meet me? # Shall we talk while drinking tea? \@」
					ELSE
						PRINTFORM 「Welcome home.
						;他に誰かいる
						IF GET_TARGETNUM() > 2
							PRINTFORML  Let's have some tea.」
						ELSE
							;条件はINFO.ERBから拝借
							PRINTFORMDL \@ NEMUKE() >= 720 ?  .. Are you perhaps tired? I can lend you my lap. # Are you here to take a break? Or perhaps to rest? \@」
						ENDIF
					ENDIF
				;大浴場
				ELSEIF CFLAG:現在位置 == 333
					PRINTFORML 「%CALLNAME:MASTER%...! Coming in so abruptly... It's a bit embarrassing...」
					;浴場が汚れていると台詞を追加
					CALL PRINT_DIALOGUE, @"Oh, That's right. There's a thing I'm supposed to be saying now. Do you want a bath? \@ YOGORE:333 >= 500 ? Or do you need to clean? # Or do you- want- me? \@"
				;それ以外
				ELSE
					PRINTFORMDL Patchouli notices you and slowly comes over.
				ENDIF
				CFLAG:1001 = 3
			ENDIF
		;それ以外
		ELSE
			;会った回数による口上
			IF TCVAR:350 > 5
				;馴れ合い強度で台詞の変更
				PRINTFORMDL \@ TCVAR:130 > 0 ? Patchouli approaches you, it looks like %HE_SHE(54)% has something on %HIS_HER(54)% mind. # 「...... ......」 \@
			ELSEIF TCVAR:350 == 5
				;馴れ合い強度で台詞の変更
				PRINTFORML 「\@ TCVAR:130 > 0 ? We've seen each other a lot, haven't we? But that's just fine. # Are you stalking me? This is too much to be a coincidence! \@」
			ELSEIF TCVAR:350 == 4
				PRINTFORML 「...Fuh, We've seen each other a lot recently, haven't we?」
			;図書館
			ELSEIF CFLAG:現在位置 == 310 && RAND:2
				PRINTFORML 「Cleaning, are you? While you're at it, \@ TCVAR:130 > 0 ? won't you have a talk with me? # sort out the books around there.\@」
			;パチュリー私室
			ELSEIF CFLAG:現在位置 == CFLAG:初期位置 && RAND:2
				PRINTFORML 「Good work as always...... Oh, Make sure not to touch those shelves.」
			;大浴場
			ELSEIF CFLAG:現在位置 == 333
				PRINTFORML 「... Cleaning? Or perhaps you were aiming to see \@ GET_TARGETNUM() == 1 ? me # someone \@ nude.」
			;それ以外
			ELSEIF RAND:2
				PRINTFORML 「Just in time, make me some tea please.」
			ELSE
				PRINTFORML 「You came at the right moment. I wonder if you've got any interesting topics to talk about.」
			ENDIF
		ENDIF
		TCVAR:350 ++
		RETURN 0
	ENDIF
	;-------------------------------------------------
	;TARGETが入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF CFLAG:1001 < 1
			;図書館
			IF CFLAG:現在位置 == 310
				PRINTFORML 「What might you be doing here? This is the Great Library of the Scarlet Devil Mansion.」
			;パチュリー私室
			ELSEIF CFLAG:現在位置 == CFLAG:初期位置
				PRINTFORML 「Wandering into my room without permission, like some sort of mouse.」
			;それ以外
			ELSE
				PRINTFORM 「Oh my, it's unusual to see 
				;吸血鬼
				IF TALENT:MASTER:132
					PRINTFORM a vampire other than Remi and %HIS_HER(16)% sister 
				;狐とか動物耳
				ELSEIF TALENT:MASTER:90 || TALENT:MASTER:91 || TALENT:MASTER:143
					PRINTFORM a part-beast 
				;小人か巨躯
				ELSEIF  TALENT:MASTER:100 == -3 || TALENT:MASTER:100 == 3
					PRINTFORM a human... A human? Whatever, a human 
				;それ以外
				ELSE
					PRINTFORM a human 
				ENDIF
				PRINTFORML in this mansion.」
			ENDIF
			CFLAG:1001 = 1
		;恋慕
		ELSEIF TALENT:恋慕
			;部屋を同じにした
			IF CFLAG:MASTER:初期位置 == CFLAG:初期位置 && !CFLAG:1005
				PRINTFORMDL You greet Patchouli and promptly tell %HIM_HER(54)% about how you want to live together with %HIM_HER(54)%.
				PRINTFORML 「Eh? Ah, mh-hm... Please treat me well.」
				CFLAG:1005 = 1
				SIF CFLAG:1001 < 2
					CFLAG:1001 = 2
			;部屋を変えた
			ELSEIF CFLAG:MASTER:初期位置 != CFLAG:初期位置 && CFLAG:1005 == 1
				PRINTFORMDL You hesitantly tell Patchouli about how you will live in a different room from now on.
				PRINTFORML 「Oh... That's...unfortunate.」
				CFLAG:1005 = 2
			;部屋をまた同じにした
			ELSEIF CFLAG:MASTER:初期位置 == CFLAG:初期位置 && CFLAG:1005 == 2
				PRINTFORMDL You hesitantly tell Patchouli about how you want to live together with %HIM_HER(54)% again.
				PRINTFORML 「I see... It'd be nice if this time we could live together forever.」
				CFLAG:1005 = 1
			;恋慕初回のみ
			ELSEIF CFLAG:1001 < 2
				PRINTFORMDL Once Patchouli sees you, %HE_SHE(54)% beckons you to come closer.
				PRINTFORMDL You approach %HIM_HER(54)% and Patchouli whispers in your ear.
				PRINTFORML 「Use this key whenever you want... But I hope you won't get up to too much mischief.」
				CFLAG:1001 = 2
			;恋慕通常
			ELSE
				;図書館
				IF CFLAG:現在位置 == 310
					PRINTFORML 「Ah, you're here, %CALLNAME:MASTER%.」
					SIF CFLAG:1001 < 3
						PRINTFORML 「You can make use of anything that's here however you like, to an extent...... That includes me, too.」
					PRINTFORMDL Patchouli smiles sweetly and sits down in %HIS_HER(54)% favorite seat.
				;パチュリー私室
				ELSEIF CFLAG:現在位置 == CFLAG:初期位置
					;MASTERの開始位置がパチュリー私室以外
					IF CFLAG:MASTER:初期位置 != CFLAG:初期位置
						PRINTFORML 「Welcome to my study. \@ YOGORE:311 >= 500 ? Are you here to clean? Or did you come to meet me? # Shall we talk while drinking tea? \@」
					ELSE
						PRINTFORM 「I'm back. 
						;他に誰かいる
						IF GET_TARGETNUM() > 2
							PRINTFORML Please make me some tea.」
						ELSE
							;パチュリーが眠い場合(就寝時間は2時だから余裕を見て前後1時間ずつ)
							PRINTFORMDL \@ TIME >= 60 && TIME <= 180 ? Fuwa...... Could you lend me your lap? # Were you taking a break? Won't you have one with me? \@」
						ENDIF
					ENDIF
				;それ以外
				ELSE
					PRINTFORMDL Patchouli realizes you're here, and %HE_SHE(54)% immediately approaches you with a smile like the Cheshire cat's.
				ENDIF
			ENDIF
		;それ以外
		ELSE
			;会った回数による口上
			IF TCVAR:350 > 5
				;セクハラ強度で台詞の変更
				PRINTFORMDL \@ TCVAR:130 > 0 ? Patchouli approaches you, it looks like %HE_SHE(54)% has something on %HIS_HER(54)% mind. # 「...... ......」 \@
			ELSEIF TCVAR:350 == 5
				PRINTFORML 「\@ TCVAR:130 > 0 ? We've seen each other a lot, haven't we? But that's just fine. # Haaa... \@」
			ELSEIF TCVAR:350 == 4
				PRINTFORML 「......Fuh, We've seen each other a lot recently, haven't we?」
			;図書館
			ELSEIF CFLAG:現在位置 == 310 && RAND:2
				PRINTFORML 「Did you perhaps come to clean? Oh, The books around there are hard to read and take in.」
			;パチュリー私室
			ELSEIF CFLAG:現在位置 == CFLAG:初期位置 && RAND:2
				PRINTFORML 「I'd like you to try not coming in here too much while I'm not around.」
			;それ以外
			ELSEIF RAND:2
				PRINTFORML 「Just in time, make me some tea, please.」
			ELSE
				PRINTFORML 「Ah, You're here. I wonder if you've got any interesting topics to talk about.」
			ENDIF
		ENDIF
		TCVAR:350 ++
		RETURN 0
	ENDIF
	;-------------------------------------------------
	;TARGETが風呂に入ってきて一緒に入る
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		IF TALENT:恋慕
			PRINTFORML 「Could it be that you were cleaning? That's unfortunate... Since we'll dirty it again after this.」
		ELSE
			PRINTFORML 「\@ TRAINNAME:PREVCOM == "掃除" ? You're cleaning? That's fine, I'll come in. # Are you feeling at home? I'll come in the bath with you too. \@」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが風呂に入ってきて出て行った
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが風呂に入ってきて追い出された
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;外出先で遭遇した
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML 「You were here?」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;他キャラとデート中に遭遇した
	;ARG:1にデート相手
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 「You were here?」
		RETURN 1
	ENDIF
	;その他
	;PRINTFORML 「You were here?」
ENDIF
RETURN 1

;==================================================
;朝起きたとき（おはよう口上）
;==================================================
@M_KOJO_EVENT_K54_2(ARG,ARG:1)
CALL MESSAGE_GOODMONING(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常起床（定時になって起きる等）
	;非神社在住キャラで恋慕未満の場合は、勝手に部屋に入り込んできてる状態
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TIME == 600
			PRINTFORMW 「Good morning, seeing %CALLNAME:MASTER%'s face right after waking up makes me happy.」
		ELSE
			PRINTFORMW 「You look cute when you're asleep.」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;添い寝起床
	;記入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 2
		;PRINTFORMW 
		;RETURN 1
	;ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;夜寝るとき（おやすみ口上）
;==================================================
@M_KOJO_EVENT_K54_3(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;自室に帰る（定時になって寝る）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML 「\@ BASE:体力 > 500 ? Fuwaa～...... You should also go to sleep soon # I'm spent...... Time to go to bed. \@.」
		PRINTFORMDW Says Patchouli and returns to %HIS_HER(54)% room.
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;眠そうにしている
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;睡眠中（起きていないので会話というよりは寝言？）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		$PACHE_SLEEP
		;毎日初回のみ
		SIF !TCVAR:351 && CFLAG:MASTER:301 != CFLAG:初期位置
			PRINTFORMDL You enter the room where Patchouli is sleeping peacefully.
		IF !RAND:4
			PRINTFORMDL You sneak next to Patchouli and twirl some of %HIS_HER(54)% hair around your finger.
			PRINTDW Patchouli's sleeping face looks somewhat content.
		ELSEIF !RAND:3
			PRINTFORMDL You poke Patchouli's cheek lightly.
			PRINTFORMDL %HE_SHE(54,1)% seems to dislike it, as %HE_SHE(54)% turns %HIS_HER(54)% head and grabs your finger.
			PRINTFORMDW You're baffled by Patchouli's unexpected reaction.
		ELSEIF !RAND:2
			PRINTFORML 「Nnh............」
			PRINTFORMDW \@ RAND:2 ? Patchouli rolls over while hugging the futon. # As Patchouli turns over %HIS_HER(54)% skirt rolls up all the way to reveal %HIS_HER(54)% thighs.\@
		ELSE
			PRINTFORMDL You gently squeeze Patchouli's breasts.
			PRINTFORM 「Ah............n
			SETCOLOR 0xff1493
			FONTITALIC
			PRINTFORM %UNICODE(0x2665)%
			FONTREGULAR
			RESETCOLOR
			TRYCALL SET_KOJOCOLOR(TARGET)
			PRINTFORML 」
			PRINTDW Patchouli lets out an amorous voice but shows no signs of awakening.
		ENDIF
		TCVAR:351 ++
	ENDIF
	;-------------------------------------------------
	;イタズラ中
	;記入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 4
		;PRINTFORMW 
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;衰弱中
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTERがダウン（部屋まで運ばれる）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML 「%CALLNAME:MASTER%......? Sleeping, are we?」
		PRINTFORMDW Says Patchouli and uses magic to levitate your body, before moving you to your room.
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが自室まで戻ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;-------------------------------------------------
		;そのまま着替えて寝た
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 0
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;部屋から追い出された
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			;時間によって変化
			PRINTFORML 「\@ BASE:体力 > 500 ? It's time to go to bed. # I'm tired so get out. \@」
			PRINTFORMDW Says Patchouli, sending you out of %HIS_HER(54)% room and locking the door.
		ENDIF
	ENDIF
	;-------------------------------------------------
	;非在住TARGETがMAIN_MAPで休憩
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMW 
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;移動時すれちがい
;==================================================
@M_KOJO_EVENT_K54_4(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;Custom code, prevent reaction during timestop
	SIF FLAG:70
		RETURN 1
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;立ち止まった
	;この後遭遇口上に接続
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋慕
			IF !RAND:2
				PRINTFORMDW It seems Patchouli still hasn't noticed your entering.
			ELSE
				PRINTFORMDW Patchouli's expression softens as %HE_SHE(54)% notices your entering.
			ENDIF
		ELSE
			IF !CFLAG:1001
				PRINTFORMDW The purple-haired girl frowns doubtfully when %HE_SHE(54)% notices you.
			ELSEIF !RAND:2
				PRINTFORMDW Patchouli sees you enter and \@ TCVAR:130 ? after a beat # uncaringly \@ turns back at %HIS_HER(54)% book.
			ELSE
				PRINTFORMDW Before you know it, you have approached Patchouli to talk with %HIM_HER(54)%
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;軽く会釈して通り過ぎた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF TALENT:恋慕
			;気付いてたり気付いてなかったり
			IF !RAND:4
				PRINTFORMDL Patchouli is silently reading a book and doesn't seem to notice you\@ CMATCH(CFLAG:320,0,1,CHARANUM) < 6 ? %" "%and the others # \@.
				PRINTFORMDW %BREAKENG(@"You \@ CMATCH(CFLAG:320,0,1,CHARANUM) < 6 ? and the others try not to bother the reading Patchouli and move # try not to bother the reading Patchouli and move \@ through silently.")%
			ELSEIF !RAND:3
				PRINTFORMDL Patchouli hears something, looks up, and meets your gaze.
				PRINTFORMDW You smile awkwardly and Patchouli nods in understanding, before returning to %HIS_HER(54)% book.
			ELSEIF !RAND:2
				PRINTFORMDL You notice Patchouli intently scribbling something while staring at a book.
				PRINTFORMDW You try to pass through without bothering Patchouli who's taking notes while muttering something to herself. 
			ELSE
				PRINTFORMDL Patchouli notices your entering and smiles.
				PRINTFORMDW You run your hand through the smiling Patchouli's hair once and move on.
			ENDIF
		ELSE
			;その他
			PRINTFORML *Bow*
			PRINTFORMW Patchouli gives you a slight nod as she continues reading.
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無視して通り過ぎた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;まともに挨拶をしていない
		IF !CFLAG:1001
			PRINTFORMDW The purple-haired girl notices you and takes a glance at you, but notices you're not going to stop and returns to %HIS_HER(54)% book.
		ELSEIF !RAND:5
			PRINTFORML 「Koakuma, \@ CFLAG:2:300 == CFLAG:3:300 ? please make me some tea. # are you around?\@」
			PRINTFORMDW Without noticing you, Patchouli \@ CFLAG:2:300 == CFLAG:3:300 ? asks Koakuma for tea. # searches for Koakuma. \@
		ELSEIF !RAND:4
			PRINTFORMDW Patchouli simply watches as you pass by in a hurry.
		ELSEIF !RAND:3
			PRINTFORMDL Patchouli is nodding off and isn't in a state to notice you.
			PRINTFORMDW You give a sidelong glance at Patchouli as you pass by.
		ELSEIF !RAND:2
			PRINTFORMDL You realize Patchouli is looking at you, and stop to give a bow to %HIM_HER(54)%.
			PRINTFORMDW Patchouli doesn't seem to mind as %HE_SHE(54)% returns to %HIS_HER(54)% reading.
		ELSE
			PRINTFORML 「.........」
			PRINTDW Patchouli is so focused on reading she doesn't seem to notice you.
		ENDIF
		RETURN 1
	ENDIF
ENDIF

;==================================================
;他者介入でムード変化
;==================================================
@M_KOJO_EVENT_K54_5(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;うふふ中だったらあっさり
	IF CFLAG:317
		PRINTFORMW 「......!?」
	;美鈴
	ELSEIF ARG == [[美鈴]]
		;守衛小屋
		IF CFLAG:現在位置 == CFLAG:ARG:初期位置
			PRINTFORML 「Meiling, we're borrowing your room.」
			PRINTFORMDW Patchouli nonchalantly distances %HIMSELF_HERSELF(58)% from you and smiles at Meiling.
		;図書室
		ELSEIF CFLAG:現在位置 == 310
			PRINTFORML 「It's unusual to see you here\@ TIME >= 720 && TIME <= 1020 ? , have you perhaps come to take a nap again? # ...... \@」
			PRINTFORMDW Patchouli calls out to Meiling\@ TALENT:恋慕 ? , not letting go of your hand # %" "%while lightly tugging on your sleeve \@ under the table.
		;庭
		ELSEIF CFLAG:現在位置 == 302 || CFLAG:現在位置 == 306
			CALL PRINT_DIALOGUE, @"\@ TALENT:恋慕 ? I didn't expect to see you here... Hm, We? We came here for...exercise. # You came at the right time... Meiling, why don't you train with %CALLNAME:MASTER%? \@", "w"
		;大浴場
		ELSEIF CFLAG:現在位置 == 333
			PRINTFORMW 「\@ TALENT:恋慕 ? My, not coming in Meiling?...... It feels amazing. # We'll be taking a bath first. \@」
		;それ以外
		ELSE
			PRINTFORML 「Haa...... Sorry, but could you make some tea, %CALLNAME:MASTER%?」
			PRINTDL Says Patchouli and beckons Meiling to come over.
			PRINTFORMW 「Don't just stand around there doing nothing, Meiling. Let's have some tea together.」
		ENDIF
	;小悪魔
	ELSEIF ARG == [[小悪魔]]
		;小悪魔私室
		IF CFLAG:現在位置 == CFLAG:ARG:初期位置
			PRINTFORML 「We're borrowing your room, Koakuma.」
			PRINTFORMDW Says Patchouli while not budging from your side.
		;図書館
		ELSEIF CFLAG:現在位置 == 310
			PRINTFORML 「\@ TALENT:恋慕 ? Your timing was good, in a sense...... # Koakuma, would you please sort the books on that shelf?\@」
			PRINTFORMDW %BREAKENG(@"Patchouli \@ TALENT:恋慕 ? seems a little upset by Koakuma's entry, but soon regains %HIS_HER(54)% composure with a resigned look in %HIS_HER(54)% eyes. # begins giving instructions as soon as Koakuma enters. \@")%
		;庭
		ELSEIF CFLAG:現在位置 == 302 || CFLAG:現在位置 == 306
			PRINTFORML 「What? Is it really that surprising to see me here?」
			PRINTDW Patchouli lightly chides Koakuma who has gotten wide-eyed with surprise.
		;大浴場
		ELSEIF CFLAG:現在位置 == 333
			PRINTFORML 「Koakuma\@ TALENT:恋慕 ?, have you come to get your back washed by %CALLNAME:MASTER% too? It feels amazing # , don't hesitate and come on in\@.」
			PRINTFORMDW %BREAKENG(@"\@ TALENT:恋慕 ? In good spirits, Patchouli invites Koakuma to bathe while displaying a master's graciousness. # Patchouli invites Koakuma to bathe, who just keeps standing stock-still before the open door. \@")%
		;パチュリー私室
		ELSEIF CFLAG:現在位置 == CFLAG:初期位置
			PRINTFORML 「Koakuma, can I help you?」
			PRINTFORMDW Koakuma comes by, and Patchouli \@ TALENT:恋慕 ? shows %HIM_HER(59)% in together with you. # kindly shows %HIM_HER(59)% in.\@ 
		;それ以外
		ELSE
			PRINTFORML 「%CALLNAME:MASTER%, could you make some tea?...... Come on in, Koakuma.」
			PRINTFORMDW Sensing Koakuma's presence, Patchouli kindly invites %HIM_HER(59)% in to take a short break.
		ENDIF
	;咲夜
	ELSEIF ARG == [[咲夜]]
		;咲夜私室
		IF CFLAG:現在位置 == CFLAG:ARG:初期位置
			PRINTFORML 「You came in at just the right time, Sakuya. I want to drink some of your tea for a change.」
			PRINTFORMDW Despite it being the owner of the room that comes in, Patchouli still orders %HIM_HER(15)% to make tea.
		;図書館
		ELSEIF CFLAG:現在位置 == 310
			PRINTFORML 「Oh my, Sakuya...... Might you be here to clean?」
			PRINTFORMDW Patchouli looks at you a little regretfully.
		;庭
		ELSEIF CFLAG:現在位置 == 302 || CFLAG:現在位置 == 306
			PRINTFORML 「I don't think there's any need to be that surprised by my going outside......」
			PRINTDW Patchouli seems a little shocked by Sakuya's amazement.
		;大浴場
		ELSEIF CFLAG:現在位置 == 333
			PRINTFORML 「\@ TALENT:恋慕 ? Sakuya, it's a little hot but it feels good in here. # Even elegant maids sweat, it seems.\@」
			PRINTFORMDW %BREAKENG(@"\@ TALENT:恋慕 ? Seeing Sakuya tightly guarded by a towel, Patchouli looks around for an excuse.# Patchouli says something very obvious to humans while looking slightly proud of %HIMSELF_HERSELF(TARGET)%.\@")%
		;パチュリー私室
		ELSEIF CFLAG:現在位置 == CFLAG:初期位置
			PRINTFORML 「Sakuya? Cleaning \@ TALENT:恋慕 ? can be left to %CALLNAME:MASTER%, alright? # isn't needed right now. \@」
			PRINTDW Patchouli seems a little flustered by Sakuya's sudden visit.
		;それ以外
		ELSE
			PRINTFORML 「Busy as usual, aren't you...... %CALLNAME:MASTER%, make some tea for us.」
			PRINTDW Without really minding the change in the mood, Patchouli offers Sakuya some tea.
		ENDIF
	;レミリア
	ELSEIF ARG == [[レミリア]]
		;レミリア私室
		IF CFLAG:現在位置 == CFLAG:ARG:初期位置
			PRINTFORML 「We're borrowing your room, Remi.」
			PRINTFORMDW Patchouli says something inane to Remilia while smiling awkwardly, and you begin brewing tea.
		;図書館
		ELSEIF CFLAG:現在位置 == 310
			PRINTFORML 「Remi, even if you come to the library there's no longer a sea here.」
			PRINTFORMDW Sensing the mood isn't remotely arousing any longer, Patchouli speaks a bit sarcastically to Remilia.   
		;パチュリー私室
		ELSEIF CFLAG:現在位置 == CFLAG:初期位置
			PRINTFORMDL You and Patchouli leap up in surprise at the sound of the door cracking open without so much as a knock. 
			PRINTFORMDW %BREAKENG(@"The culprit behind the loud noise, Remilia, raises %HIS_HER(16)% voice in laughter and after being briefly dumbfounded you and Patchouli begin laughing too.")%
		;大浴場
		ELSEIF CFLAG:現在位置 == 333
			PRINTFORML 「\@ TALENT:恋慕 ? Remi, you want to bathe together with us that much? # Even if it's for washing, will you be alright with using running water? \@」
			PRINTFORMDW Patchouli \@ TALENT:恋慕 ? smiles at Remilia while holding your arm. # separates from you and moves towards Remilia.\@
		;それ以外
		ELSE
			PRINTFORML 「I see that the head of the mansion does as %HE_SHE(16)% pleases.」
			PRINTFORMDW You and Patchouli exchange a smile with Remilia and make room for %HIM_HER(16)%.
		ENDIF
	;恋慕で幽閉解除なので死に分岐が多いフランドール
	ELSEIF ARG == [[フラン]]
		;地下室(いい雰囲気で地下室に連れ出せば見れる？)
		IF CFLAG:現在位置 == CFLAG:ARG:初期位置
			PRINTFORML 「Oh my, Imouto-sama. This place looks surprisingly comfortable like the library, doesn't it...... But the air seems hard to breathe.」
			PRINTFORML 「...... It's not just something I'm saying because we shut you in here, alright?」
			PRINTFORMDW Patchouli continues, while hiding the somewhat regretful look on %HIS_HER(54)% face.
		;図書館
		ELSEIF CFLAG:現在位置 == 310
			PRINTFORML 「Imouto-sama, welcome...... You can read the books if you want, but be careful not to destroy them.」
			PRINTFORMDW Patchouli says to Flandre \@ TALENT:恋慕 ? with a mother's smile. # while looking affectionately at %HIM_HER(50)%. \@
		;パチュリー私室
		ELSEIF CFLAG:現在位置 == CFLAG:初期位置
			PRINTFORML 「\@ CFLAG:1002 ? Welcome, Imouto-sama. # I've been to the basement but this is the first time Imouto-sama has come here, isn't it?\@」
			PRINTDW Patchouli seems delighted that Flandre has come here.
			CFLAG:1002 = 1
		;大浴場
		ELSEIF CFLAG:現在位置 == 333
			PRINTFORML 「Imouto-sama, \@ TALENT:恋慕 ? I'll wash your hair. Please come over here. # once you've washed I hope you'll come soak in the bath.\@」
			PRINTFORMDW Says Patchouli and separates from you.
		;それ以外
		ELSE
			PRINTFORML 「Somehow or other Imouto-sama is just like Remi, isn't %HE_SHE(50)%......」
			PRINTFORMDW Patchouli meets your gaze and beckons Flandre over.
		ENDIF
	;それ以外(パチュリーとか？)
	ELSE
		IF ARG == 54
			PRINTFORMW 「I wonder why I've formed a clone.」
		ELSE
			PRINTFORMW 「Ah, A mouse that can't read the mood.」
		ENDIF
	ENDIF
ENDIF
RETURN 1

;==================================================
;情事を目撃した
;==================================================
@M_KOJO_EVENT_K54_6(ARG,ARG:1)
;口上主はTARGET
;ARGに情事相手
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;情事を目撃した（馴れ合い度:低）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORMW 「Unfortunately, that's enough.」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;負けじと参加（馴れ合い度:高）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORM 「Oh my, 
		IF ARG == [[レミリア]]
			PRINTFORM Remi, 
		ELSEIF ARG == [[フラン]]
			PRINTFORM Imouto-sama, 
		ENDIF
		PRINTFORMW you seem to be up to something fun. Let me join in too.」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;気まずそうに立ち去る
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		IF CFLAG:PLAYER:うふふ == 2
			PRINTFORMW 「Uhh...... Just what kind of a situation is this......」
		ENDIF
		RETURN 1
		;-------------------------------------------------
		;まぐわってた(MASTERが挿入中)
		;-------------------------------------------------
		IF MASTER_POSE(SET_V,SET_P,1)
			PRINTFORMW 「...... Seems I arrived at just the right time.」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;まぐわってた(MASTERに挿入中)
		;記入チェック
		;-------------------------------------------------
		IF MASTER_POSE(SET_P,6,1)
			PRINTFORMW 「Mid-insertion? My bad.」
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;MASTERに誘われて参加
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG:1 == 4
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;情事を見られた
;==================================================
@M_KOJO_EVENT_K54_7(ARG,ARG:1)
;口上主はTARGET
;ARGに目撃者
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;情事を見られた（目撃者の馴れ合い度:低）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		;咲夜
		IF ARG == [[咲夜]]
			IF MASTER_POSE(SET_V,SET_P,1)
				PRINTFORML 「We've unexpectedly been seen...... Was this a bad spot?」
			ELSEIF MASTER_POSE(SET_P,6,1)
				PRINTFORML It feels unexpectedly good, you know? Patchouli says to Sakuya while separating from you.
			ELSE
				PRINTFORML 「It can't be helped... We'll have to stop for now.」
			ENDIF
		;パチュリー私室
		ELSEIF CFLAG:現在位置 == CFLAG:初期位置
			;小悪魔に見られた
			SIF ARG == [[小悪魔]]
				PRINTFORML 「Entering your master's room without waiting for an answer....... I wonder what you were thinking.」
			PRINTFORMDL %BREAKENG(@"Without a flinch, Patchouli begins to \@ EQUIP:0 ? adjust %HIS_HER(54)% disheveled clothing. # put on the clothes scattered around %HIS_HER(54)% bed. \@")%
		;大浴場
		ELSEIF CFLAG:現在位置 == 333
			PRINTFORMDL %BREAKENG(@"With a calm look on %HIS_HER(54)% face, Patchouli \@ TALENT:恋慕 ? sits down by you without leaving your side. # puts some distance between %HIM_HER(54)%self and you and covers %HIS_HER(54)% body with a towel.\@")%
		;ベッドのあるところ
		ELSEIF BEDROOM()
			PRINTFORMDL Without a flinch, Patchouli begins to \@ EQUIP:0 ? adjust %HIS_HER(54)% disheveled clothing. # put on the clothes scattered around the bed. \@
		;それ以外
		ELSE
			PRINTFORMD Patchouli separates from you while grumbling something like
			PRINTFORML 「I wonder if the location was bad......」
		ENDIF
		PRINTFORMW 「Well, if we're seen then we're seen. \@ TALENT:恋慕 ? Shall we continue? # It can't be helped. \@」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目撃者が負けじと参加（目撃者の馴れ合い度:高）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目撃者が立ち去る
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTERに誘われて目撃者も参加
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG:1 == 4
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;目撃した情事を問い詰める
;==================================================
@M_KOJO_EVENT_K54_8(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;MASTERだけ問い詰め
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;二人とも説教
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;パンツ没収された
;==================================================
@M_KOJO_EVENT_K54_9(ARG,ARG:1)
#DIM 種類
#DIM パンツ所有
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
パンツ所有 = 0
FOR 種類,0,MAXPANTS
	IF PANTS_TEMP:54:種類
		パンツ所有 = 1
		BREAK
	ENDIF
NEXT
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;同じ場所に居てパンツを回収された
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		;恋慕
		$BOSSYU
		IF TALENT:恋慕
			;理不尽
			PRINTFORML 「\@ パンツ所有 ? Do you prefer panties over me!? # Why aren't those my panties!! \@」
			PRINTDL Patchouli humphs in anger.
			PRINTFORMW 「Argh! Confiscation!」
		ELSE
			;何パターンかあったほうがいいかな？
			PRINTFORML 「\@ パンツ所有 ? How could it be that my panties turned up in your pocket?  # I don't think I can possibly believe those are your panties. \@」
			PRINTFORMDL You avert your eyes from Patchouli without saying anything.
			PRINTFORML 「Haaa...... I'll put these in the laundry later.」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;遠距離移動中にパンツを回収された
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		GOTO BOSSYU
		RETURN 1
	ENDIF
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;押し倒した
;==================================================
@M_KOJO_EVENT_K54_10(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;MASTERを押し倒した（開始時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋慕
			PRINTFORMW 「It's alright if you resist...... Though I don't feel like letting go.」
		ELSE
			PRINTFORMW 「Help me with a little experiment.」
			TCVAR:352 = 1
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;なだめられた（終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;満足してないけどおしまい。たぶんすぐ押し倒される
		IF (CFLAG:溜まってる度 > 300 && !TFLAG:抱きつきモード) || (TFLAG:抱きつきモード && TFLAG:抱きつき解放ポイント > 0)
			PRINTFORML 「Ah...... Is that all?」
			PRINTFORMDW Patchouli separates from you and tidies %HIS_HER(54)% clothes while looking bitterly at you.
		ELSEIF TALENT:恋慕
			PRINTFORML 「I'm completely satisfied...... Let's do this again another time.」
			PRINTFORMDW Says Patchouli and kisses you on the cheek.
		ELSEIF TCVAR:352
			PRINTFORMDL You wriggle as if trying to slip away and Patchouli readily lets you go.
			PRINTFORMW 「Hm, That's enough then...... Help me with another experiment later please.」
		ENDIF
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1
;IF TALENT:恋慕
;	PRINTFORMW 「ダメよ、私は満足してないわ」
;ELSEIF TCVAR:352
;	PRINTFORMW 「こら、まだ実験は終わってない」
;ENDIF
RETURN 0
;==================================================
;浴場で遭遇
;==================================================
@M_KOJO_EVENT_K54_11(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;追い出された
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目が合った（追い出されない）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;寝床に忍び込み
;==================================================
@M_KOJO_EVENT_K54_12(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;追い出される（怒り）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入（相手が恋慕）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入（相手が恋慕・衰弱）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;追い出される
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;追い出される（衰弱）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;お仕事中
;==================================================
@M_KOJO_EVENT_K54_13(ARG,ARG:1)
;口上主はTARGET
;ARG:1に残っている仕事量
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;仕事開始（職場へ移動する）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;業務中
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;仕事終了
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;食事系
;==================================================
@M_KOJO_EVENT_K54_14(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;持っていた食物を食べられた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == -1
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;MASTERが押し倒した
;==================================================
@M_KOJO_EVENT_K54_15(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;未実装（押し倒しコマンドに統合？
	;MASTERが押し倒した（ウフフ開始時）
	;記入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;逢瀬終了（ウフフ終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;添い寝する
;==================================================
@M_KOJO_EVENT_K54_16(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;添い寝を始めた（開始時）(存在せず
	;記入チェック
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;添い寝を終了した（終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;時止め終了時
;==================================================
@M_KOJO_EVENT_K54_17(ARG,ARG:1)
;口上主はTARGET
;排他と明記されていないモノは状況によっては連続で表示されるので注意
;ARGに射精状況
;ARG:1に射精状態
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;ARG=1～3は排他
	;謎の快感
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;絶頂
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;パンツ紛失
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚口内射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;精液中毒低精飲
		IF ARG:1 == 1
		;精液中毒低吐き出し
		ELSEIF ARG:1 == 2
		;精液中毒低手で覆う
		ELSEIF ARG:1 == 3
		;精液中毒高精飲
		ELSEIF ARG:1 == 4
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚顔面射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;精液経験ありぬぐい取り
		IF ARG:1 == 1
		;精液経験なしぬぐい取り
		ELSEIF ARG:1 == 2
		;顔射精液舐めとり
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚手淫射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;ぬぐい取り
		IF ARG:1 == 1
		;舐めとり
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚アナル射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;Ａ感覚0
		IF ARG:1 == 1
		;ソレ以外
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚処女喪失】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚膣内射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		;非処女膣内射精ピルなし
		IF ARG:1 == 1
		;非処女膣内射精ピルあり
		ELSEIF ARG:1 == 2
		;処女膣内射精
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;ナマでやらせろ時
;==================================================
@M_KOJO_EVENT_K54_18(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;避妊要求台詞
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;断った
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;断ったのに粘られて切れた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;危険日以外許可
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;危険日許可
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;神社暮らしを承認して貰う
;==================================================
@M_KOJO_EVENT_K54_19(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;認められる
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;認められない
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;帰宅時
;==================================================
@M_KOJO_EVENT_K54_20(ARG,ARG:1)
;口上主はLOCALS or RESULT
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;デート中帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;玄関先でお見送り
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;陥落素質取得時
;==================================================
@M_KOJO_EVENT_K54_21(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;愛欲取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;愛人取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;セフレ取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;調教終了時に自慰
;==================================================
@M_KOJO_EVENT_K54_22(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;浴場連れだし
;==================================================
@M_KOJO_EVENT_K54_23(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;断られた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;一緒に入ってくれた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;懐妊
;==================================================
@M_KOJO_EVENT_K54_24(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陥落素質無し
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無自覚
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;出産
;==================================================
@M_KOJO_EVENT_K54_25(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陥落素質無し
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無自覚
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;オナバレ
;==================================================
@M_KOJO_EVENT_K54_26(ARG,ARG:1)

;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;見られた瞬間
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;何もしない
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;そのまま続行
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;追い出し
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;やっちゃう
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;事後
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
	ENDSELECT
ENDIF



@PATCHOULI_GASPING_VOICE(ARG,ARG:1)
;感覚によって変わる
;ARGが喘ぎ度、ARG:1が喘ぎ声、ARG:2があまり感じてない
;ループ回数の調節
SIF ARG:1 > ARG
	ARG:1 = ARG
ARG:2 = ARG - ARG:1
;Custom code, prevents moaning when time is stopped
SIF FLAG:70
	RETURN
PRINTFORM 「
WHILE ARG
	IF ARG:2 && RAND:2
		PRINTDATA
			DATA ......
			DATA Ah.....
			DATA .....Nnh...
			DATA Mhー
			DATA Aahー
			DATA Kuh...
		ENDDATA
		ARG --
		ARG:2 --
	ENDIF
	SIF !ARG
		BREAK
	IF ARG:1 && RAND:2
		PRINTDATA
			DATA Ah!
			DATA ...Mmh
			DATA Haah...
			DATA D-Don't! 
			DATA Nnoo!
			DATA ... There! 
			DATA Nnhーー...
			DATA ...Ahh...
			DATA That's! 
			DATA If you do that then...
			DATA It feels......good...
			DATA Gh!?
			DATA ...Nnuu～
			DATA Hyan...
			DATA ... More.
			DATA Goo- Good! 
			DATA Gah......haaa...
			DATA ...Kya...
		ENDDATA
		ARG --
		ARG:1 --
	ENDIF
WEND
IF TALENT:恋慕 && !RAND:4
	SETCOLOR 0xff1493
	FONTITALIC
	PRINTFORM %UNICODE(0x2665) * 2%
	FONTREGULAR
	RESETCOLOR
	TRYCALL SET_KOJOCOLOR(TARGET)
ENDIF
PRINTFORMW 」
